<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from ./src/adeept_pro_tank_ros/urdf/adeept_rpi_pro.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="adeept_rpi_pro" xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller" xmlns:interface="http://playerstage.sourceforge.net/gazebo/xmlschema/#interface" xmlns:sensor="http://playerstage.sourceforge.net/gazebo/xmlschema/#sensor" xmlns:xi="http://www.w3.org/2001/XInclude">
  <!-- Visually Align this with the chassis -->
  <!-- <xacro:property name="track_ylen" value="170"   /> -->
  <!-- 55 mm -->
  <material name="black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.2 0.2 0.2 1.0"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.4235294117647059 0.0392156862745098 1.0"/>
  </material>
  <material name="brown">
    <color rgba="0.8705882352941177 0.8117647058823529 0.7647058823529411 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="white">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <link name="robot_footprint"/>
  <joint name="robot_footprint_joint" type="fixed">
    <!-- <origin xyz="0 0 ${chassis_z_center}" rpy="0 0 0"/> -->
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="robot_footprint"/>
    <child link="chassis"/>
  </joint>
  <link name="chassis">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.0405"/>
      <mass value="0.001324"/>
      <inertia ixx="9.543833333333334e-07" ixy="0" ixz="0" iyy="3.522391666666668e-06" iyz="0" izz="3.809258333333334e-06"/>
    </inertial>
    <collision name="chassis_collision">
      <origin rpy="0 0 0" xyz="0 0 0.0405"/>
      <geometry>
        <!-- <box size="${chassis_xlen} ${chassis_ylen} ${chassis_zlen}"/> -->
        <box size="0.05499999999999999 0.17 0.055"/>
      </geometry>
    </collision>
    <visual name="chassis_visual">
      <origin rpy="0 0 0" xyz="0 0 0.0405"/>
      <geometry>
        <box size="0.075 0.17 0.055"/>
      </geometry>
    </visual>
    <self_collide>0</self_collide>
  </link>
  <joint name="left_track_joint" type="fixed">
    <parent link="chassis"/>
    <child link="left_track"/>
    <origin rpy="0 0 0" xyz="0.058499999999999996 0 0.03"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="left_track">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.0002"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual name="visual">
      <!-- <origin xyz="${(chassis_xlen / 2) + (track_xlen  / 2)} ${track_ylen / 2} 0" rpy="0 0 0"/>-->
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.042 0.17 0.06"/>
      </geometry>
    </visual>
    <!-- Just for show now
    <collision name='collision'>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="${track_xlen} ${track_ylen} ${track_zlen}"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>0.7</mu>
            <mu2>150</mu2>
            <fdir1>0 1 0</fdir1>
          </ode>
        </friction>
      </surface>
    </collision>
    -->
    <self_collide>0</self_collide>
  </link>
  <joint name="left_track_fwheel_jnt" type="continuous">
    <parent link="left_track"/>
    <child link="left_track_fwheel"/>
    <origin rpy="0 0 0" xyz="0 0.085 0"/>
    <axis xyz="1 0 0"/>
    <!-- <axis xyz="0 1 0" rpy="0 0 0"/> -->
    <limit effort="10000" velocity="1000"/>
    <joint_properties damping="1.0" friction="1.0"/>
  </joint>
  <link name="left_track_fwheel">
    <inertial>
      <origin rpy="0 1.5707 0" xyz="0 0 0"/>
      <!-- <origin xyz="0.0 0 0" rpy=" 0 1.5707 1.5707"/> -->
      <mass value="0.0002"/>
      <inertia ixx="1e-06" ixy="0" ixz="0" iyy="1e-06" iyz="0" izz="1e-06"/>
    </inertial>
    <visual name="visual">
      <origin rpy="0 1.5707 0" xyz="0 0 0"/>
      <!-- <origin xyz="0.0 0 0" rpy=" 0 1.5707 1.5707"/> -->
      <geometry>
        <cylinder length="0.042" radius="0.03"/>
      </geometry>
    </visual>
    <collision name="collision">
      <origin rpy="0 1.5707 0" xyz="0 0 0"/>
      <!-- <origin xyz="0.0 0 0" rpy=" 0 1.5707 1.5707"/> -->
      <geometry>
        <cylinder length="0.042" radius="0.03"/>
      </geometry>
      <surface>
        <friction>
          <!-- <fdir1>0 1 0</fdir1> -->
          <fdir1>1 0 0</fdir1>
          <kp>1000000.0</kp>
          <!-- kp and kd for rubber -->
          <kd>100.0</kd>
          <mu>1</mu>
          <mu2>1</mu2>
          <slip1>0.5</slip1>
          <slip2>0</slip2>
        </friction>
      </surface>
    </collision>
    <self_collide>0</self_collide>
  </link>
  <joint name="left_track_rwheel_jnt" type="continuous">
    <parent link="left_track"/>
    <child link="left_track_rwheel"/>
    <origin rpy="0 0 0" xyz="0 -0.085 0"/>
    <axis xyz="1 0 0"/>
    <!-- <axis xyz="0 1 0" rpy="0 0 0"/> -->
    <limit effort="10000" velocity="1000"/>
    <joint_properties damping="1.0" friction="1.0"/>
  </joint>
  <link name="left_track_rwheel">
    <inertial>
      <mass value="0.0002"/>
      <origin rpy="0 1.5707 0" xyz="0 0 0"/>
      <!-- <origin xyz="0 0 0" rpy="0 1.5707 1.5707"/> -->
      <inertia ixx="1e-06" ixy="0" ixz="0" iyy="1e-06" iyz="0" izz="1e-06"/>
    </inertial>
    <visual name="visual">
      <origin rpy="0 1.5707 0" xyz="0 0 0"/>
      <!-- <origin xyz="0 0 0" rpy="0 1.5707 1.5707"/> -->
      <geometry>
        <cylinder length="0.042" radius="0.03"/>
      </geometry>
    </visual>
    <collision name="collision">
      <origin rpy="0 1.5707 0" xyz="0 0 0"/>
      <!-- <origin xyz="0 0 0" rpy="0 1.5707 1.5707"/> -->
      <geometry>
        <cylinder length="0.042" radius="0.03"/>
      </geometry>
      <surface>
        <friction>
          <!-- <fdir1>0 1 0</fdir1> -->
          <fdir1>0 1 0</fdir1>
          <kp>1000000.0</kp>
          <!-- kp and kd for rubber -->
          <kd>100.0</kd>
          <mu>1</mu>
          <mu2>1</mu2>
          <slip1>0.5</slip1>
          <slip2>0</slip2>
        </friction>
      </surface>
    </collision>
    <self_collide>0</self_collide>
  </link>
  <joint name="right_track_joint" type="fixed">
    <parent link="chassis"/>
    <child link="right_track"/>
    <origin rpy="0 0 0" xyz="-0.058499999999999996 0 0.03"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="right_track">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.0002"/>
      <inertia ixx="5.110666666666668e-07" ixy="0" ixz="0" iyy="8.94e-08" iyz="0" izz="5.416666666666668e-07"/>
    </inertial>
    <visual name="visual">
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.042 0.17 0.06"/>
      </geometry>
    </visual>
    <!-- Just for show right now
    <collision name='collision'>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <box size="${track_xlen} ${track_ylen} ${track_zlen}"/>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>0.7</mu>
            <mu2>150</mu2>
            <fdir1>0 1 0</fdir1>
          </ode>
        </friction>
      </surface>
    </collision>
    -->
    <self_collide>0</self_collide>
  </link>
  <joint name="right_track_fwheel_jnt" type="continuous">
    <parent link="right_track"/>
    <child link="right_track_fwheel"/>
    <origin rpy="0 0 0" xyz="0 0.085 0"/>
    <axis xyz="1 0 0"/>
    <!-- <axis xyz="0 1 0" rpy="0 0 0"/> -->
    <limit effort="10000" velocity="1000"/>
    <joint_properties damping="1.0" friction="1.0"/>
  </joint>
  <link name="right_track_fwheel">
    <inertial>
      <origin rpy="0 1.5707 0" xyz="0 0 0"/>
      <!-- <origin xyz="0.0 0 0" rpy=" 0 1.5707 1.5707"/> -->
      <mass value="0.0002"/>
      <inertia ixx="1e-06" ixy="0" ixz="0" iyy="1e-06" iyz="0" izz="1e-06"/>
    </inertial>
    <visual name="visual">
      <origin rpy="0 1.5707 0" xyz="0 0 0"/>
      <!-- <origin xyz="0.0 0 0" rpy=" 0 1.5707 1.5707"/> -->
      <geometry>
        <cylinder length="0.042" radius="0.03"/>
      </geometry>
    </visual>
    <collision name="collision">
      <origin rpy="0 1.5707 0" xyz="0 0 0"/>
      <!-- <origin xyz="0.0 0 0" rpy=" 0 1.5707 1.5707"/> -->
      <geometry>
        <cylinder length="0.042" radius="0.03"/>
      </geometry>
      <surface>
        <friction>
          <!-- <fdir1>0 1 0</fdir1> -->
          <fdir1>1 0 0</fdir1>
          <kp>1000000.0</kp>
          <!-- kp and kd for rubber -->
          <kd>100.0</kd>
          <mu>1</mu>
          <mu2>1</mu2>
          <slip1>0.5</slip1>
          <slip2>0</slip2>
        </friction>
      </surface>
    </collision>
    <self_collide>0</self_collide>
  </link>
  <joint name="right_track_rwheel_jnt" type="continuous">
    <parent link="right_track"/>
    <child link="right_track_rwheel"/>
    <origin rpy="0 0 0" xyz="0 -0.085 0"/>
    <axis xyz="1 0 0"/>
    <!-- <axis xyz="0 1 0" rpy="0 0 0"/> -->
    <limit effort="10000" velocity="1000"/>
    <joint_properties damping="1.0" friction="1.0"/>
  </joint>
  <link name="right_track_rwheel">
    <inertial>
      <origin rpy="0 1.5707 0" xyz="0 0 0"/>
      <!-- <origin xyz="0.0 0 0" rpy=" 0 1.5707 1.5707"/> -->
      <mass value="0.0002"/>
      <inertia ixx="1e-06" ixy="0" ixz="0" iyy="1e-06" iyz="0" izz="1e-06"/>
    </inertial>
    <visual name="visual">
      <origin rpy="0 1.5707 0" xyz="0 0 0"/>
      <!-- <origin xyz="0.0 0 0" rpy=" 0 1.5707 1.5707"/> -->
      <geometry>
        <cylinder length="0.042" radius="0.03"/>
      </geometry>
    </visual>
    <collision name="collision">
      <origin rpy="0 1.5707 0" xyz="0 0 0"/>
      <!-- <origin xyz="0.0 0 0" rpy=" 0 1.5707 1.5707"/> -->
      <geometry>
        <cylinder length="0.042" radius="0.03"/>
      </geometry>
      <surface>
        <friction>
          <!-- <fdir1>0 1 0</fdir1> -->
          <fdir1>1 0 0</fdir1>
          <kp>1000000.0</kp>
          <!-- kp and kd for rubber -->
          <kd>100.0</kd>
          <mu>1</mu>
          <mu2>1</mu2>
          <slip1>0.5</slip1>
          <slip2>0</slip2>
        </friction>
      </surface>
    </collision>
    <self_collide>0</self_collide>
  </link>
  <!-- ARM -->
  <joint name="arm_base_joint" type="fixed">
    <!-- <origin xyz="0 0 ${chassis_zlen / 2}" rpy="0 0 0"/> -->
    <origin rpy="0 0 0" xyz="0 0 0.055"/>
    <parent link="chassis"/>
    <child link="arm_base"/>
  </joint>
  <link name="arm_base">
    <inertial>
      <mass value="0.0001"/>
      <origin rpy="0 0 0" xyz="0 0 0.031"/>
      <!-- <origin xyz="${arm_b_l1_xoff} ${arm_b_l1_yoff} ${arm_b_ylen / 2}" rpy="0 0 0"/> -->
      <inertia ixx="7.523333333333335e-08" ixy="0" ixz="0" iyy="1.0410833333333334e-07" iyz="0" izz="1.1527500000000002e-07"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.031"/>
      <geometry>
        <box size="0.07200000000000001 0.093 0.062"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.031"/>
      <geometry>
        <box size="0.07200000000000001 0.093 0.062"/>
      </geometry>
    </collision>
    <self_collide>0</self_collide>
  </link>
  <joint name="arm_b_l1_joint" type="revolute">
    <parent link="arm_base"/>
    <child link="arm_l1"/>
    <origin rpy="0 0 0" xyz="0.0 -0.04 0.062"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-1.5707963267948966" upper="1.5707963267948966" velocity="1"/>
    <dynamics damping="0.1" friction="1.0"/>
  </joint>
  <link name="arm_l1">
    <inertial>
      <mass value="5e-05"/>
      <origin rpy="0 0 0" xyz="0 0 0.04"/>
      <inertia ixx="3.3333333333333334e-08" ixy="0" ixz="0" iyy="3.3333333333333334e-08" iyz="0" izz="1.3333333333333335e-08"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.04"/>
      <geometry>
        <box size="0.04 0.04 0.08"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.04"/>
      <geometry>
        <box size="0.04 0.04 0.08"/>
      </geometry>
    </collision>
    <self_collide>0</self_collide>
  </link>
  <transmission name="arm_l1_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_b_l1_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_l1_actuator">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
      <robotNamespace>/adeept_rpi_pro</robotNamespace>
      <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>
    </plugin>
  </gazebo>
  <!--
  <gazebo>
    <plugin name="skid_steer_drive_controller" filename="libgazebo_ros_skid_steer_drive.so">
      <updateRate>100.0</updateRate>
			<robotNamespace>/adeept_rpi_pro</robotNamespace>
      <leftFrontJoint>left_track_fwheel_jnt</leftFrontJoint>
      <rightFrontJoint>right_track_fwheel_jnt</rightFrontJoint>
      <leftRearJoint>left_track_rwheel_jnt</leftRearJoint>
      <rightRearJoint>right_track_rwheel_jnt</rightRearJoint>
      <wheelSeparation>0.75</wheelSeparation>
      <wheelDiameter>0.060</wheelDiameter>
      <robotBaseFrame>robot_footprint</robotBaseFrame>
      <torque>200</torque>
      <MaxForce>5.0</MaxForce>
      <commandTopic>cmd_vel</commandTopic>
      <odometryTopic>odom</odometryTopic>
      <odometryFrame>odom</odometryFrame>
      <broadcastTF>true</broadcastTF>
      <covariance_x>0.001</covariance_x>
      <covariance_y>0.001</covariance_y>
      <covariance_yaw>0.01</covariance_yaw>
    </plugin>
  </gazebo>
  -->
  <gazebo reference="chassis">
    <material>Gazebo/Green</material>
  </gazebo>
  <gazebo reference="left_track">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="right_track">
    <material>Gazebo/Black</material>
  </gazebo>
</robot>
